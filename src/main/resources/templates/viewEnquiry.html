<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>View All Enquiries</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
  <a href="/addEnquiry" class="btn btn-success mb-2">Add New Enquiry</a>
  <a href="/dashboard" class="btn btn-info mb-2">Click to Dashboard</a>

  <h1 class="mb-4">View Enquiries</h1>

  <!-- ✅ Filter Form (outside the main table) -->
  <form th:object="${filterDto}" th:action="@{/filter-enqs}" method="post" class="mb-4">
    <div class="row g-3">
      <div class="col-md-2">
        <label>Class Mode</label>
        <select th:field="*{classMode}" class="form-select">
          <option value="">-select-</option>
          <option value="Online">Online</option>
          <option value="Offline">Offline</option>
        </select>
      </div>
      <div class="col-md-3">
        <label>Course</label>
        <select th:field="*{courceName}" class="form-select">
          <option value="">-select-</option>
          <option value="JRTP">JRTP</option>
          <option value="Java">Java</option>
          <option value="SBMS">SBMS</option>
        </select>
      </div>
      <div class="col-md-2">
        <label>Status</label>
        <select th:field="*{enqStatus}" class="form-select">
          <option value="">-select-</option>
          <option value="Open">Open</option>
          <option value="Enrolled">Enrolled</option>
          <option value="Lost">Lost</option>
        </select>
      </div>
      <div class="col-md-2 align-self-end">
        <input type="submit" value="Filter" class="btn btn-primary w-100">
      </div>
    </div>
  </form>

  <!-- ✅ Data Table -->
  <table class="table table-bordered table-striped">
    <thead class="table-dark">
    <tr>
      <th>EnqId</th>
      <th>Name</th>
      <th>Phone No</th>
      <th>Course Name</th>
      <th>Class Mode</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="enquiry : ${enquiries}">
      <td th:text="${enquiry.enqId}">EnqId</td>
      <td th:text="${enquiry.name}">Name</td>
      <td th:text="${enquiry.phno}">Phone</td>
      <td th:text="${enquiry.courceName}">Course</td>
      <td th:text="${enquiry.classMode}">Mode</td>
      <td th:text="${enquiry.enqStatus}">Status</td>
      <td>
        <a th:href="@{/edit-enquiry(enqId=${enquiry.enqId})}" class="btn btn-primary btn-sm">Edit</a>
        <a th:href="@{/delete-enquiry(enqId=${enquiry.enqId})}" class="btn btn-danger btn-sm">Delete</a>
      </td>
    </tr>
    </tbody>
  </table>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>





























<!--
<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>View All Enquiries</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
  <a href="/addEnquiry">Add New Enquiry</a>
  <a href="/dashboard">click to Dasborad</a>
  <h1 class="mb-4">View Enquiry Here</h1>
  <table class="table table-bordered table-striped">
    <thead class="table-dark">
    <form th:object="${filterDto}" th:action="@{/filter-enqs}" method="post">
    <table>
      <tr>
        <td>ClassMode:</td>
        <td><select th:field="*{classMode}">
          <option value="">-select-</option>
          <option value="Online">Online</option>
          <option value="Offline">Offline</option>
        </select>
        </td>
        <td>Course:</td>
        <td><select th:field="*{courceName}">
          <option value="">-select-</option>
          <option value="JRTP">JRTP</option>
          <option value="Java FullStack">Java</option>
          <option value="Spring with microservice">SBMS</option>
        </select>
        </td>

        <td>status:</td>
        <td><select th:field="*{enqStatus}">
          <option value="">-select-</option>
          <option value="Open">Open</option>
          <option value="Enrolled">Enrolled</option>
          <option value="Lost">Lost</option>

        </select>
        </td>
        <td>
           <input type="submit" value="filter" class="btn btn-primary">
        </td>
      </tr>
    </table>
    </form>
    <tr>
      <th>Name</th>
      <th>Phone No</th>
      <th>CourseName</th>
      <th>ClassMode</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="enquiry : ${enquiries}">
      <td th:text="${enquiry.name}"></td>
      <td th:text="${enquiry.phno}"></td>
      <td th:text="${enquiry.courceName}"></td>
      <td th:text="${enquiry.classMode}"></td>
      <td th:text="${enquiry.enqStatus}"></td>
      <td>
        <a th:href="@{'/enquiry/edit/' + ${enquiry.enqId}}" class="btn btn-primary btn-sm">Edit</a>
         <a th:href="@{'/enquiry/delete/' + ${enquiry.enqId}}" class="btn btn-danger btn-sm">Delete</a>
      </td>
    </tr>
    </tbody>
  </table>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
-->
